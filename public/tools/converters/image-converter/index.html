<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Image Converter</title>
  <link rel="stylesheet" href="/css/tools/image-converter.css" />
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header id="header-placeholder"></header>

  <script>
    fetch("/partials/header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header-placeholder").innerHTML = data;
        const script = document.createElement("script");
        script.src = "/js/partials/header.js";
        document.body.appendChild(script);
      })
      .catch(err => console.error("Header load failed:", err));
  </script>

  <main class="image-converter-con">
    <section class="image-converter">
      <h1 class="image-converter-header">Convert Images To Any Type You Like!</h1>
      <p class="image-converter-copy">Optimize your images online, JPEG/JPG, PNG, WebP, TIFF formats supported</p>

      <div class="drop-area-con">
        <div id="drop-area">
          <img src="/images/droparea/upload-icon.png" alt="Upload Icon"/>
          <input type="file" id="fileElem" multiple accept="image/*" style="display: none;">
          <label for="fileElem">Select Images</label>
          <p>Or Drag & Drop Images Here</p>
          <div id="other-drop-options">
            <button><img src="/images/droparea/google-drive-logo.png" alt="Google Drive"/></button>
            <button><img src="/images/droparea/drop-box-logo.png" alt="Dropbox"/></button>
          </div>
        </div>
      </div>
    </section>

    <section class="preview-loading-con" style="display: none;">
      <img src="/images/loading-wtf.gif">
      <h2>Hang tight, we're processing the images</h2>
    </section>

    <section class="image-preview-con" style="display: none;">
      <div class="image-previews"></div>

      <div class="image-options-con">
        <div class="images-options">
          <div class="more-images-con">
            <h2>Image Convert</h2>
            <p>Add More Images?</p>
            <div>
              <button><img src="/images/droparea/drop-box-logo.png"></button>
              <img id="add-more-icon" src="/images/droparea/upload-icon.png">
              <button><img src="/images/droparea/google-drive-logo.png"></button>
            </div>
          </div>

          <div>
            <label>
              <p><strong>Compression Level</strong></p>
              <small>0% (Max Compression) ←→ 100% (High Quality)</small>
              <span id="compression-value">80%</span>
              <input type="range" name="compression-rate" min="0" max="100" value="80" id="compression-slider" title="Lower means smaller file, lower quality">
            </label>
          </div>

          <div class="conversion-options">
            <p>Image Type</p>
            <div>
              <button>WebP</button>
              <button>JPEG</button>
              <button>JPG</button>
              <button>PNG</button>
              <button>AVIF</button>
              <button>TIFF</button>
            </div>
          </div>

        </div>

        <div class="compress-button-con">
          <button id="compress-btn" class="options-compress">Convert</button>
        </div>

      </div>
    </section>

    <section class="loading-con">
      <div>
        <h2>Images Changes Are Happening Now.</h2>
        <img src="/images/loading-wtf.gif">
        <p>Hang tight, we're getting things ready. This may take up to 5 minutes!</p>
        <p class="progress-state">Uploading</p>
        <p class="loading-percentage">0%</p>
        <div class="loading-bar">
          <div class="loading-progress"></div>
        </div>
      </div>
    </section>

    <section class="completion-con">
      <div class="completion-download-con">
        <h3>Your Images Have Been Converted</h3>
        <p class="size-reduction-percent">0%</p>
        <div>
          <a href="/tools/converters/image-converter/"><button class="back-button"><img src="/images/arrow.png"></button></a>
          <button class="completion-download-button">Download Your Converted Images</button>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer-placeholder"></footer>

  <script>
    fetch("/partials/footer.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("footer-placeholder").innerHTML = data;
        document.getElementById("year").textContent = new Date().getFullYear();
      })
      .catch(err => console.error("Footer load failed:", err));
  </script>

  <script src="/js/image-converter.js"></script>
</body>
</html>
